import{R as P,Q as F,i as E,g as A,L as O,ao as N,V as v,N as j,r as W,h as $,f as q,Z as D}from"./D0_loxAU.js";function V(e){return P()?(F(e),!0):!1}const w=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=e=>typeof e<"u",J=Object.prototype.toString,R=e=>J.call(e)==="[object Object]",G=()=>{};function T(e){return Array.isArray(e)?e:[e]}function K(e,n,l={}){const{immediate:c=!0,immediateCallback:u=!1}=l,a=O(!1);let s=null;function t(){s&&(clearTimeout(s),s=null)}function o(){a.value=!1,t()}function i(...r){u&&e(),t(),a.value=!0,s=setTimeout(()=>{a.value=!1,s=null,e(...r)},v(n))}return c&&(a.value=!0,w&&i()),V(o),{isPending:N(a),start:i,stop:o}}function X(e=1e3,n={}){const{controls:l=!1,callback:c}=n,u=K(c??G,e,n),a=A(()=>!u.isPending.value);return l?{ready:a,...u}:a}function Q(e,n,l){return E(e,n,{...l,immediate:!0})}const x=w?window:void 0;function U(e){var n;const l=v(e);return(n=l==null?void 0:l.$el)!=null?n:l}function Z(...e){const n=[],l=()=>{n.forEach(t=>t()),n.length=0},c=(t,o,i,r)=>(t.addEventListener(o,i,r),()=>t.removeEventListener(o,i,r)),u=A(()=>{const t=T(v(e[0])).filter(o=>o!=null);return t.every(o=>typeof o!="string")?t:void 0}),a=Q(()=>{var t,o;return[(o=(t=u.value)==null?void 0:t.map(i=>U(i)))!=null?o:[x].filter(i=>i!=null),T(v(u.value?e[1]:e[0])),T(q(u.value?e[2]:e[1])),v(u.value?e[3]:e[2])]},([t,o,i,r])=>{if(l(),!(t!=null&&t.length)||!(o!=null&&o.length)||!(i!=null&&i.length))return;const y=R(r)?{...r}:r;n.push(...t.flatMap(m=>o.flatMap(f=>i.map(p=>c(m,f,p,y)))))},{flush:"post"}),s=()=>{a(),l()};return V(l),s}function Y(){const e=O(!1),n=j();return n&&$(()=>{e.value=!0},n),e}function z(e){return typeof e=="function"?e:typeof e=="string"?n=>n.key===e:Array.isArray(e)?n=>e.includes(n.key):()=>!0}function k(...e){let n,l,c={};e.length===3?(n=e[0],l=e[1],c=e[2]):e.length===2?typeof e[1]=="object"?(n=!0,l=e[0],c=e[1]):(n=e[0],l=e[1]):(n=!0,l=e[0]);const{target:u=x,eventName:a="keydown",passive:s=!1,dedupe:t=!1}=c,o=z(n);return Z(u,a,r=>{r.repeat&&v(t)||o(r)&&l(r)},s)}function _(e,n={}){const{immediate:l=!0,fpsLimit:c=void 0,window:u=x,once:a=!1}=n,s=O(!1),t=A(()=>c?1e3/v(c):null);let o=0,i=null;function r(f){if(!s.value||!u)return;o||(o=f);const p=f-o;if(t.value&&p<t.value){i=u.requestAnimationFrame(r);return}if(o=f,e({delta:p,timestamp:f}),a){s.value=!1,i=null;return}i=u.requestAnimationFrame(r)}function y(){!s.value&&u&&(s.value=!0,o=0,i=u.requestAnimationFrame(r))}function m(){s.value=!1,i!=null&&u&&(u.cancelAnimationFrame(i),i=null)}return l&&y(),V(m),{isActive:N(s),pause:m,resume:y}}function B(e){return JSON.parse(JSON.stringify(e))}function ee(e,n,l,c={}){var u,a,s;const{clone:t=!1,passive:o=!1,eventName:i,deep:r=!1,defaultValue:y,shouldEmit:m}=c,f=j(),p=l||(f==null?void 0:f.emit)||((u=f==null?void 0:f.$emit)==null?void 0:u.bind(f))||((s=(a=f==null?void 0:f.proxy)==null?void 0:a.$emit)==null?void 0:s.bind(f==null?void 0:f.proxy));let h=i;n||(n="modelValue"),h=h||`update:${n.toString()}`;const C=d=>t?typeof t=="function"?t(d):B(d):d,L=()=>I(e[n])?C(e[n]):y,M=d=>{m?m(d)&&p(h,d):p(h,d)};if(o){const d=L(),g=W(d);let b=!1;return E(()=>e[n],S=>{b||(b=!0,g.value=C(S),D(()=>b=!1))}),E(g,S=>{!b&&(S!==e[n]||r)&&M(S)},{deep:r}),g}else return A({get(){return L()},set(d){M(d)}})}export{ee as a,Y as b,X as c,x as d,_ as e,w as i,k as o,U as u};
